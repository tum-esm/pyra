---
hide_table_of_contents: true
---

<!-- markdownlint-disable -->

<a href="https://github.com/tum-esm/pyra/tree/main/packages/core/interfaces/state_interface.py#L0" className="SourceCodeLinkBadge">source code</a>

# <kbd>module</kbd> `core.interfaces.state_interface`






---

<a href="https://github.com/tum-esm/pyra/tree/main/packages/core/interfaces/state_interface.py#L75" className="SourceCodeLinkBadge">source code</a>

## <kbd>class</kbd> `StateInterface`
Use JSON files to communicate state between different parts of Pyra Core, and between Core and CLI/UI. 

The `runtime-data/state.json` file will be cleared with every restart of PYRA Core. The `logs/persistent-state.json` will only be created, when it does not exist yet. 

`runtime-data/state.json`: 

```json
{
     "helios_indicates_good_conditions": ...,
     "measurements_should_be_running": ...,
     "enclosure_plc_readings": {...},
     "os_state": {...}
}
``` 

`logs/persistent-state.json`: 

```json
{
     "active_opus_macro_id": ...,
     "current_exceptions": []
}
``` 




---

<a href="https://github.com/tum-esm/pyra/tree/main/.venv/lib/python3.10/site-packages/tum_esm_utils/decorators.py#L103" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `initialize`

```python
initialize() → None
```

Clear `state.json`, create empty `prersistent-state.json` if it does not exist yet. 

---

<a href="https://github.com/tum-esm/pyra/tree/main/.venv/lib/python3.10/site-packages/tum_esm_utils/decorators.py#L126" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `read`

```python
read() → StateDict
```

Read the state file and return its content 

---

<a href="https://github.com/tum-esm/pyra/tree/main/.venv/lib/python3.10/site-packages/tum_esm_utils/decorators.py#L149" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `read_persistent`

```python
read_persistent() → PersistentStateDict
```

Read the persistent state file and return its content 

---

<a href="https://github.com/tum-esm/pyra/tree/main/packages/core/interfaces/state_interface.py#L158" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `read_persistent_without_filelock`

```python
read_persistent_without_filelock() → PersistentStateDict
```

Read the persistent state file and return its content 

---

<a href="https://github.com/tum-esm/pyra/tree/main/packages/core/interfaces/state_interface.py#L135" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `read_without_filelock`

```python
read_without_filelock() → StateDict
```

Read the state file and return its content 

---

<a href="https://github.com/tum-esm/pyra/tree/main/.venv/lib/python3.10/site-packages/tum_esm_utils/decorators.py#L172" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `update`

```python
update(update: StateDictPartial) → None
```

Update the (persistent) state file and return its content. The update object should only include the properties to be changed in contrast to containing the whole file. 

---

<a href="https://github.com/tum-esm/pyra/tree/main/.venv/lib/python3.10/site-packages/tum_esm_utils/decorators.py#L187" className="SourceCodeLinkBadge">source code</a>

### <kbd>method</kbd> `update_persistent`

```python
update_persistent(update: PersistentStateDictPartial) → None
```

Update the (persistent) state file and return its content. The update object should only include the properties to be changed in contrast to containing the whole file. 


