---
sidebar_position: 2
sidebar_label: Setup
---

# Hot to set it up

## Software Requirements

:::note

Your might not be allowed to executed `.ps1` script due to your ExecutionPolicy. This can be circumvented with the following command (credits to https://stackoverflow.com/a/49112322/8255842):

```bash
Set-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy Unrestricted
```

:::

### OPUS and CamTracker

We are using OPUS 7.8.44 and Camtracker 3.9.2015.02.03.

### Python 3.10

https://www.python.org/

You want your python3.10 interpreter to be available under `python`. Therefore you need to add environment variables to point the `python` command (and `pip`) to the Python3.10 interpreter by checking the box marked in the image below.

<img
    src='/img/docs/python-310-path-automatic.png'
    className='tw-rounded-lg tw-mb-4'
    style={{ maxWidth: 600 }}
/>

<div className='tw-mb-2'>
    <span className='tw-bg-red-200 tw-text-red-900 tw-rounded tw-px-1 tw-font-semibold tw-py-0.5 -tw-my-0.5'>
        Incomplete installation:
    </span>
</div>

```
$ python --version
Python was not found; run without arguments to install
from the Microsoft Store, or disable this shortcut from
Settings > Manage App Execution Aliases.
```

<div className='tw-mb-2'>
    <span className='tw-bg-green-200 tw-text-green-900 tw-rounded tw-px-1 tw-font-semibold tw-py-0.5 -tw-my-0.5'>
        Complete installation:
    </span>
</div>

```
$ python --version
Python 3.10.x
```

If your `python` command doesn't resolve to the installed version, please look at the section ["Add Environment Paths"](#add-environment-paths) and add the path ".../Python310" and "Python310/Scripts" where you just installed Python.

### Install Poetry

https://python-poetry.org/

### GitHub CLI

https://cli.github.com/

## PYRA Setup Tool & Directory Structure

The [**PYRA Setup Tool**](https://github.com/tum-esm/pyra-setup-tool) can be used to install and migrate between PYRA versions. The tool looks for the "Documents" directory on your system and generates a directory structure like this:

```
üìÅ <DOCUMENTS DIR>
    üìÅ pyra
        üìÅ pyra-4.0.5
        üìÅ pyra-4.0.6
        üìÅ ...
```

Download and run it with:

```bash
cd ~/Documents
gh repo clone tum-esm/pyra-setup-tool
cd pyra-setup-tool
python run.py
```

The installation steps this tool automates:

1. Downloads each releases codebase
2. Installs all python dependencies into the global python interpreter environment
3. Downloads and runs the installer (manual steps required)
4. Creates desktop shortcuts to the `pyra-x.y.z` directory
5. (Optional) Migrates the `config.json` file (so that all settings do not have to be reentered with every upgrade)

## PYRA CLI Command

You need to actively tell Windows about the `pyra-cli` command. When using the installer, it will tell you which path to [add to the environment variables](#add-environment-paths) on every install process.

<img
    src='/img/docs/pyra-cli-path-request.png'
    className='tw-rounded-lg tw-mb-4'
/>

## Add Environment Paths

1. Look for the "Edit the system environment variables" utility

<img
    src='/img/docs/environment-path-manual-1.png'
    className='tw-rounded-lg tw-mb-4'
    style={{ maxWidth: 600 }}
/>

2. Click on "Environment Variables"

<img
    src='/img/docs/environment-path-manual-2.png'
    className='tw-rounded-lg tw-mb-4'
    style={{ maxWidth: 600 }}
/>

3. Select "PATH" in the system section and click on "Edit"

<img
    src='/img/docs/environment-path-manual-3.png'
    className='tw-rounded-lg tw-mb-4'
    style={{ maxWidth: 600 }}
/>

4. Add the required paths to the list

## Releases

All PYRA releases can be found here: https://github.com/tum-esm/pyra/releases. Please only use the releases starting with `4.0.5`. The ones before are alpha and beta releases that have bugs and inconsistencies.

## Error Email Setup

TODO

<!--With Gmail accounts, "Less Secure Apps" have been deactivated. https://support.google.com/accounts/answer/6010255?hl=de&visit_id=637914296292859831-802637670&p=less-secure-apps&rd=1

Solution: Use "App passwords", which require 2FA-->
